
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Restaurant Configuration (settings, schedule)
    // IMPORTANT: Replace 'YOUR_ADMIN_UID_HERE' with the actual UID of your admin user.
    // Only this specific admin user will be able to read and write settings/schedule.
    match /restaurantConfig/{docId} {
      allow read, write: if request.auth != null && request.auth.uid == 'YOUR_ADMIN_UID_HERE';
    }

    // Bookings
    // Any authenticated user can read and write bookings.
    // If you introduce non-admin authenticated users later,
    // you might want to restrict this to admins only, e.g., by checking for an admin UID
    // or a custom claim (if request.auth.token.admin == true).
    match /bookings/{bookingId} {
      allow read, write: if request.auth != null;
    }

    // Default deny all access to other paths not explicitly matched above.
    // This is a security best practice.
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
